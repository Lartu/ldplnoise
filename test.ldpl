DATA:
CMDS IS NUMBER VECTOR
RL-PROMPT IS TEXT 
RL-HISTORY-FILE IS TEXT 
RL-INPUT IS TEXT 

PROCEDURE:
DISPLAY "\e[36;1mLDPLNOISE\e[0m" crlf
STORE "\e[35;1m>>> \e[0m" IN RL-PROMPT
STORE "test-history" IN RL-HISTORY-FILE
CALL EXTERNAL RL-LOAD-HISTORY

STORE -1 IN CMDS:"quit"
STORE -1 IN CMDS:"exit"
STORE  1 IN CMDS:"help"
STORE  1 IN CMDS:"?"

SUB-PROCEDURE QUIT
    CALL EXTERNAL RL-SAVE-HISTORY
    EXIT 
END SUB-PROCEDURE

CALL EXTERNAL RL-ACCEPT
WHILE RL-INPUT IS NOT EQUAL TO "" DO
    IF CMDS:RL-INPUT IS EQUAL TO -1 THEN
        CALL QUIT
    END IF

    IF CMDS:RL-INPUT IS EQUAL TO 1 THEN
        DISPLAY "commands: " crlf "\texit - exit" crlf "\thelp - show help" 
        STORE " " IN RL-INPUT
        CONTINUE
    END IF 
        
    CALL EXTERNAL RL-ADD-HISTORY
    DISPLAY RL-INPUT CRLF
    CALL EXTERNAL RL-ACCEPT
REPEAT

CALL QUIT
